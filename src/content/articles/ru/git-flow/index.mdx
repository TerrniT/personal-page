```markdown
---
title: 'Git Flow'
date: "Jan 26 2022"
description: "–ú–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç—ã —Å Git —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∞–∑–æ–≤—ã—Ö"
tags: ["git"]
topic: "Software Development"
cover_url: "/gitflow.png"
type: 'article'
author: TerrniT
draft: true
---

# Git Flow

![git-flow-shot](/posts/git-flow/Untitled.png)

<aside>
üìé –ú–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç—ã —Å Git, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã—Ö
</aside>

### –ó–∞–ø—É—Å–∫ Gitflow

–î–ª—è —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å Gitflow –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–≤–µ—Ç–≤–ª–µ–Ω–∏–µ –æ—Ç `master` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `develop`. –° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ `develop` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–æ–π, –≥–¥–µ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –∫–æ–¥.

**`main` / `master`** - –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞, —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–∞—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ  
`**develop**` - —Ä–∞–±–æ—á–∞—è –≤–µ—Ç–∫–∞, –∫—É–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤—Å–µ –ø—Ä–∏–Ω—è—Ç—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

<aside>
üíÄ –ù–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤ —ç—Ç–∏ –≤–µ—Ç–∫–∏
</aside>

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏

–ü–æ–º–∏–º–æ –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–µ—Ç–æ–∫ **`master`** –∏ **`develop`**, –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ –¥–ª—è:
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –£–ø—Ä–æ—â–µ–Ω–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–µ–ª–∏–∑–æ–≤
- –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–≠—Ç–∏ –≤–µ—Ç–∫–∏ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ –∏ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ —É–¥–∞–ª—è—é—Ç—Å—è:
- **Feature** (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
- **Release** (—Ä–µ–ª–∏–∑–Ω—ã–µ)
- **Hotfix** (—ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ (Feature)**

–û—Ç—Ö–æ–¥—è—Ç –æ—Ç:  
**`develop`**

–í–ª–∏–≤–∞—é—Ç—Å—è –≤:  
**`develop`**

–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏:  
–õ—é–±–æ–µ –∏–º—è, –∫—Ä–æ–º–µ **`master`**, **`develop`**, **`release-*`**, **`hotfix-*`**

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –°—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∏—á–∏ –∏ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –≤–ª–∏–≤–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ `develop`.

> –û–±—ã—á–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

![Feature branches](/posts/git-flow/Untitled%201.png)

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ç–∫–∏
```bash
git checkout -b feature/newfeature develop
```

#### –í–ª–∏–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ develop
```bash
git checkout develop
git merge --no-ff feature/newfeature
git branch -d feature/newfeature
git push origin develop
```

–§–ª–∞–≥ **`‚Äîno-ff`** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –ø—Ä–∏ —Å–ª–∏—è–Ω–∏–∏, —Å–æ—Ö—Ä–∞–Ω—è—è –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∏—á–∏.

![Feature merge](/posts/git-flow/Untitled%202.png)

### **–†–µ–ª–∏–∑–Ω—ã–µ –≤–µ—Ç–∫–∏ (Release)**

–û—Ç—Ö–æ–¥—è—Ç –æ—Ç:  
**`develop`**

–í–ª–∏–≤–∞—é—Ç—Å—è –≤:  
**`develop`** –∏ **`master`**

–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏:  
**`release-*`**

![Release branches](/posts/git-flow/Untitled%203.png)

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Ä–µ–ª–∏–∑–æ–≤. –ü–æ–∑–≤–æ–ª—è—é—Ç:
- –í–Ω–æ—Å–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û–±–Ω–æ–≤–ª—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–µ—Ä—Å–∏—é, –¥–∞—Ç—ã —Å–±–æ—Ä–∫–∏)
- –ù–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ `develop`

–°–æ–∑–¥–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ `develop` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è —Ä–µ–ª–∏–∑–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ç–∫–∏
```bash
git checkout -b release-1.2 develop
./bump-version.sh 1.2
git commit -a -m "Bumped version number to 1.2"
```

#### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ç–∫–∏
```bash
git checkout master
git merge --no-ff release-1.2
git tag -a 1.2

git checkout develop
git merge --no-ff release-1.2

git branch -d release-1.2
```

> –¢–µ–≥–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è CI/CD

<aside>
üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥–∏ `-s` –∏–ª–∏ `-u <key>` –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ —Ç–µ–≥–æ–≤
</aside>

### **–í–µ—Ç–∫–∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (Hotfix)**

–û—Ç—Ö–æ–¥—è—Ç –æ—Ç:  
**`master`**

–í–ª–∏–≤–∞—é—Ç—Å—è –≤:  
**`develop`** –∏ **`master`**

–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏:  
`hotfix-*`

![Hotfix branches](/posts/git-flow/Untitled%204.png)

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å—Ä–æ—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ. –ü–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–º–∞–Ω–¥–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ `develop`, –ø–æ–∫–∞ –≥–æ—Ç–æ–≤–∏—Ç—Å—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π —Ñ–∏–∫—Å.

#### –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ hotfix
```bash
git checkout -b hotfix-1.2.1 master
./bump-version.sh 1.2.1
git commit -a -m "Bumped version number to 1.2.1"
git commit -m "Fixed severe production problem"
```

#### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤–µ—Ç–∫–∏ hotfix
```bash
git checkout master
git merge --no-ff hotfix-1.2.1
git tag -a 1.2.1

git checkout develop
git merge --no-ff hotfix-1.2.1

git branch -d hotfix-1.2.1
```

<aside>
üí° –ü—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ç–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è hotfix —Å–ª–µ–¥—É–µ—Ç –≤–ª–∏–≤–∞—Ç—å –≤ –Ω–µ—ë –≤–º–µ—Å—Ç–æ `develop`
</aside>

### –†–µ–∑—é–º–µ

- –û—Ä–∏–≥–∏–Ω–∞–ª —Å—Ç–∞—Ç—å–∏: [A Successful Git Branching Model](https://nvie.com/posts/a-successful-git-branching-model/)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Gitflow: [github.com/nvie/gitflow](https://github.com/nvie/gitflow)
```