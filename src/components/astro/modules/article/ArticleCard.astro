---
import { Image } from 'astro:assets'

import { useI18n } from '@lib/i18n'

import { type ArticleInfo } from '@lib/mdx'

const { url } = Astro
const { p } = useI18n(url)

type Props = {
  item: ArticleInfo
}

const { item } = Astro.props
---

<article
  class="group flex w-full flex-nowrap rounded-lg border border-transparent px-3 py-3 transition-colors duration-300 ease-in-out hover:border-black/15 hover:bg-black/5 hover:text-black dark:hover:border-white/20 dark:hover:bg-white/5 dark:hover:text-white"
>
  <a href={p(item.href)} class="flex w-full flex-col no-underline">
    {
      item.cover_url && (
        <div class="mb-3 w-full rounded-md group-hover:cursor-pointer">
          <Image
            src={'/articles/' + item.cover_url}
            alt={item.title}
            class="animate max-h-44 w-full rounded-md object-cover"
            height={176}
            width={320}
          />
        </div>
      )
    }

    <div class="flex flex-col flex-wrap truncate">
      <div class="text-sm font-semibold no-underline hover:underline">
        {item.title}
      </div>
      <div class="text-sm">
        {item.description}
      </div>
    </div>
  </a>
</article>
