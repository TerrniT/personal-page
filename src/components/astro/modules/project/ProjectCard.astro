---
import { useI18n } from '@lib/i18n'
import { type ProjectInfo } from '@lib/mdx'
import { devIconResolver } from '@lib/utils'

import { Icon } from 'astro-icon/components'

const { url } = Astro
const { p } = useI18n(url)

type Props = {
  item: ProjectInfo
}

const { item } = Astro.props
---

<li class="px-4 py-3 pr-10">
  <a
    href={p(item.href)}
    class="group relative flex flex-nowrap rounded-lg border border-border transition-colors duration-300 ease-in-out hover:border-border/55 hover:bg-secondary hover:text-main-foreground"
  >
    <div class="flex flex-1 flex-col gap-y-3 truncate">
      <div class="font-semibold text-main-foreground">
        {item.data.title}
      </div>

      <div class="flex flex-1 flex-col gap-y-3">
        <div class="text-sm text-muted-foreground">
          {item.data.description}
        </div>
        {
          item.data.stack && item.data.stack.length > 0 && (
            <div class="mb-3 flex flex-wrap gap-2">
              {item.data.stack.map((entry) => (
                <Icon name={devIconResolver[entry].icon} size="1.3rem" />
              ))}
            </div>
          )
        }
      </div>
    </div>
  </a>
</li>
