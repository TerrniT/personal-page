---
import '@fontsource/inter/latin-400.css'
import '@fontsource/inter/latin-600.css'
import '@fontsource/lora/400.css'
import '@fontsource/lora/600.css'

import inter400 from '@fontsource/inter/files/inter-latin-400-normal.woff2'
import inter600 from '@fontsource/inter/files/inter-latin-600-normal.woff2'
import lora400 from '@fontsource/lora/files/lora-latin-400-normal.woff2'
import lora600 from '@fontsource/lora/files/lora-latin-600-normal.woff2'
---

<link rel="preload" href={inter400} as="font" type="font/woff2" crossorigin />
<link rel="preload" href={inter600} as="font" type="font/woff2" crossorigin />
<link rel="preload" href={lora400} as="font" type="font/woff2" crossorigin />
<link rel="preload" href={lora600} as="font" type="font/woff2" crossorigin />

<script>
  import type { TransitionBeforeSwapEvent } from 'astro:transitions/client'
  document.addEventListener('astro:before-swap', (e) =>
    [...(e as TransitionBeforeSwapEvent).newDocument.head.querySelectorAll('link[as="font"]')].forEach((link) =>
      link.remove(),
    ),
  )
</script>
